<?xml version="1.0" encoding="ASCII"?>
<xisong.model.programmaticAC:ACPolicy xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xisong.model.programmaticAC="xisong.model.programmaticAC">
  <roles name="student_manager"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="model.addAttribute(&quot;notActiveStudents&quot;, notActiveStudents)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentmanager request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="reply.setReply(&quot;&#x6fc0;&#x6d3b;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="for (cn.edu.hebtu.www.clubassembly.web.model.Student student : students) {&#xA;    student.setActivate(1);&#xA;    studentService.updateStudent(student);&#xA;}"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="model.addAttribute(&quot;alreadyActiveStudents&quot;, alreadyActiveStudents)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="model.addAttribute(&quot;deleteStudents&quot;, deleteStudents)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentmainpage request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="return &quot;/manager/student/student_manager&quot;"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentprofileview request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="model.addAttribute(&quot;student&quot;, student)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="return &quot;/manager/student/student_profile_view&quot;"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="return &quot;/manager/student/student_profile_update&quot;"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentdelete request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentactive request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="reply.setCode(Constant.MANAGER_ACTIVE_STUDENT_SUCCESS)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="try {&#xA;    java.lang.String[] id = ids.split(&quot;,&quot;);&#xA;    java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> students = studentService.getAllStudentByStudentIds(id);&#xA;    for (cn.edu.hebtu.www.clubassembly.web.model.Student student : students) {&#xA;        student.setActivate(3);&#xA;        studentService.updateStudent(student);&#xA;    }&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_COMPLETE_DELETE_STUDENT_SUCCESS);&#xA;    reply.setDetail(&quot;&#x5f7b;&#x5e95;&#x5220;&#x9664;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    reply.setReply(&quot;&#x5f7b;&#x5e95;&#x5220;&#x9664;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;} catch (java.lang.Exception e) {&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_COMPLETE_DELETE_STUDENT_FAIL);&#xA;    reply.setDetail(&quot;&#x5f7b;&#x5e95;&#x5220;&#x9664;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    reply.setReply(&quot;&#x5f7b;&#x5e95;&#x5220;&#x9664;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;}"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="try {&#xA;    java.lang.String[] id = ids.split(&quot;,&quot;);&#xA;    java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> students = studentService.getAllStudentByStudentIds(id);&#xA;    for (cn.edu.hebtu.www.clubassembly.web.model.Student student : students) {&#xA;        student.setActivate(0);&#xA;        studentService.updateStudent(student);&#xA;    }&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_RESTORE_STUDENT_SUCCESS);&#xA;    reply.setDetail(&quot;&#x8fd8;&#x539f;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    reply.setReply(&quot;&#x8fd8;&#x539f;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;} catch (java.lang.Exception e) {&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_RESTORE_STUDENT_FAIL);&#xA;    reply.setDetail(&quot;&#x8fd8;&#x539f;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    reply.setReply(&quot;&#x8fd8;&#x539f;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;}"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="try {&#xA;    java.lang.String[] id = ids.split(&quot;,&quot;);&#xA;    java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> students = studentService.getAllStudentByStudentIds(id);&#xA;    for (cn.edu.hebtu.www.clubassembly.web.model.Student student : students) {&#xA;        student.setActivate(2);&#xA;        studentService.updateStudent(student);&#xA;    }&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_DELETE_STUDENT_SUCCESS);&#xA;    reply.setDetail(&quot;&#x5220;&#x9664;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    reply.setReply(&quot;&#x5220;&#x9664;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;} catch (java.lang.Exception e) {&#xA;    cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>();&#xA;    reply.setCode(Constant.MANAGER_DELETE_STUDENT_FAIL);&#xA;    reply.setDetail(&quot;&#x5220;&#x9664;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    reply.setReply(&quot;&#x5220;&#x9664;&#x5b66;&#x751f;&#x5931;&#x8d25;&quot;);&#xA;    redirectAttributes.addFlashAttribute(&quot;reply&quot;, reply);&#xA;    return &quot;redirect:/manager/student/studentmanager&quot;;&#xA;}"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="logger.info(&quot;/manager/student/studentrestore request&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="reply.setDetail(&quot;&#x6fc0;&#x6d3b;&#x5b66;&#x751f;&#x6210;&#x529f;&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="return &quot;redirect:/manager/student/studentmanager&quot;"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="return &quot;/manager/student/student_main_page&quot;"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="cn.edu.hebtu.www.clubassembly.web.model.Student student = studentService.getStudentByID(id)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> notActiveStudents = studentService.getAllNotActiveStudent()"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> students = studentService.getAllStudentByStudentIds(id)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> deleteStudents = studentService.getAllDeleteStudent()"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="java.lang.String[] id = ids.split(&quot;,&quot;)"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String> reply = new cn.edu.hebtu.www.clubassembly.common.model.Reply&lt;java.lang.String>()"/>
  <actions xsi:type="xisong.model.programmaticAC:Execute" executedStatement="java.util.List&lt;cn.edu.hebtu.www.clubassembly.web.model.Student> alreadyActiveStudents = studentService.getAllAlreadyActiveStudent()"/>
</xisong.model.programmaticAC:ACPolicy>
